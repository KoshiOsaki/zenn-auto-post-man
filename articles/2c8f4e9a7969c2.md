---
title: "Edge Worker ã£ã¦ JS ã—ã‹å‹•ã‹ãªã„ã®ï¼Ÿã‚‚ã‚‚ ðŸ‘ ã® RAG å¤§å†’é™ºãƒ¡ãƒ¢"
emoji: "âš¡ï¸"
type: "tech"
topics: ["javascript", "typescript", "python", "webassembly", "cloudflare"]
published: true
---

> ðŸ’Ÿ **èª­ã‚“ã§ã»ã—ã„äºº**
>
> - Slack ã‚„ MTG ãƒ­ã‚°ã‚’ä¸¸ã”ã¨æºœã‚è¾¼ã‚“ã§ RAG ã—ãŸã„æ–°äººã•ã‚“
> - Edge Functions/Cloudflare Workers/Vercel Edge ã«èˆˆå‘³ã‚ã‚‹ãƒ•ãƒ­ãƒ³ãƒˆå‹¢
> - ã€ŒJS ä»¥å¤–å‹•ã‹ã›ãªã„ã®ï¼Ÿï¼ã€ã¨ãƒ¢ãƒ¤ãƒ¢ãƒ¤ã—ã¦ã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å‹¢
> - Obsidianï¼PostgreSQL ã©ã£ã¡ã«ãƒ‡ãƒ¼ã‚¿å…¥ã‚Œã‚ˆã†â€¦ã¨è¿·ã„ä¸­ã®ãƒŽãƒ¼ãƒˆé­” ðŸ“

---

## 0ï¸âƒ£ ã‚‚ã‚‚ ðŸ‘ ã®ã²ã¨ã‚Šã”ã¨ (á¢ Ë™ê’³Ë™ á¢)ðŸ’—

> ã€ŒSlack å…¨å±¥æ­´ã¨è­°äº‹éŒ²ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ä¿æŒã—ã¦ã€è‡ªåˆ†ã½ã„è¿”ä¿¡ã‚’ Gemini ã«ä½œã‚‰ã›ãŸã„ã‚“ã ã‘ã©â€¦  
> Edge Workerã€Pythonã€Obsidianâ€¦é ­ãã‚‹ãã‚‹ ðŸ’¢ã€

â€•â€• ãã‚“ãªã‚«ã‚ªã‚¹ã‚’**å…ˆè¼© ðŸ‘´ðŸ»**ã«ã¶ã¤ã‘ã¦ã¿ãŸã‚‰ã€ã‚ã¡ã‚ƒãƒ­ã‚¸ã‚«ãƒ«ã«è¿”ã£ã¦ããŸã®ã§ä¼šè©±ãƒ­ã‚°ã‚’å…¬é–‹ â£ï¸  
ï¼ˆGPT ãã‚“ã®å›žç­”ã¯ã¡ã‚‡ã„è¦ç´„ï¼‰

---

## 1ï¸âƒ£ slackdump ã¯ãƒ­ãƒ¼ã‚«ãƒ«å®Œçµï¼Ÿ

**ã‚‚ã‚‚ ðŸ‘**: Cloud ã«æ¼ã‚ŒãŸã‚‰ãƒ¤ãƒã„ã‚“ã ã‘ã©ã€slackdump ã£ã¦å®Œå…¨ãƒ­ãƒ¼ã‚«ãƒ«ï¼Ÿ( á¢ oÌ´Ì¶Ì·Ì¤ Ì« oÌ´Ì¶Ì·Ì¤ á¢ )

**ã›ã‚“ã±ã„ ðŸ‘´ðŸ»**: ã‚ã‚Œã¯ Go è£½ CLIã€‚é€šä¿¡ç›¸æ‰‹ã¯ **ã‚ãªãŸ â‡„Slack API** ã ã‘ã€‚ã‚½ãƒ¼ã‚¹å…¬é–‹ã ã—å¤–éƒ¨é€ä¿¡ãªã—ã€‚`~/.config/slackdump` ã®ãƒˆãƒ¼ã‚¯ãƒ³ã ã‘æ¨©é™çµžã£ã¨ã‘ã° OKã€‚

---

## 2ï¸âƒ£ Gemini ã‚’ä¿¡ç”¨ã—ãŸã‚‰ãƒªã‚¹ã‚¯æ¶ˆãˆã‚‹ï¼Ÿ

**ã‚‚ã‚‚ ðŸ‘**: Gemini å´ã¯ä¿¡ã˜ã‚‹ã¨ã—ã¦ã€æ®‹ã‚‹ãƒªã‚¹ã‚¯ã‚ã‚‹ï¼ŸðŸ’—

**ã›ã‚“ã±ã„ ðŸ‘´ðŸ»**:  
â‘  Gemini ã® 24h ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯æ®‹ã‚‹ï¼ˆå­¦ç¿’ã«ã¯ä½¿ã‚ã‚Œãªã„ï¼‰  
â‘¡ ãƒ­ãƒ¼ã‚«ãƒ« DBãƒ»ã‚¯ãƒƒã‚­ãƒ¼æµå‡ºã¯è‡ªå·±è²¬ä»»  
â‘¢ Chrome æ‹¡å¼µã®æ¨©é™ã¯æœ€å°ã«ã€‚

**ã‚‚ã‚‚ ðŸ‘**: ãµã‚€ãµã‚€ã€ã»ã¼ãƒ­ãƒ¼ã‚«ãƒ«å¯¾ç­–ã ã‘ã­ â£ï¸

---

## 3ï¸âƒ£ Obsidian ã«å…¨éƒ¨çªã£è¾¼ã‚“ã§å¹³æ°—ï¼Ÿ

**ã‚‚ã‚‚ ðŸ‘**: Slack ï¼‹è­°äº‹éŒ²ã‚’ Obsidian ã«æ¯Žæ—¥å…¥ã‚Œã¦ã‚‚é‡ããªã„ï¼Ÿâ¸â¸> Ì« <â¸â¸Õž

**ã›ã‚“ã±ã„ ðŸ‘´ðŸ»**: æ•°åƒãƒŽãƒ¼ãƒˆãªã‚‰ä½™è£•ã€‚  
ã§ã‚‚æ•°åä¸‡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡Œãã¨æ¤œç´¢ã¨ Graph ãŒãƒ¢ã‚¿ã¤ãã€‚  
ðŸ‘‰ **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æˆ¦ç•¥**ï¼š  
*DB ã«ãƒ•ãƒ«ãƒ‡ãƒ¼ã‚¿*ï¼‹*Obsidian ã«æ—¥æ¬¡ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆ* ãŒå‰ã€‚

---

## 4ï¸âƒ£ RAG ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ Python ã¨ TS ã©ã£ã¡ï¼Ÿ

**ã‚‚ã‚‚ ðŸ‘**: ç§ TS å¾—æ„ãªã‚“ã ã‘ã©ã€ã¿ã‚“ãª FastAPI æŽ¨ã™ã®ãƒŠã‚¼ï¼ŸðŸ’¢

**ã›ã‚“ã±ã„ ðŸ‘´ðŸ»**:

- **Python**ï¼šLangChain/LlamaIndex æœ¬å®¶ãŒé€Ÿã„ãƒ»GPU å‘¨è¾ºè±Šå¯Œ
- **TS+Hono**ï¼šãƒ•ãƒ­ãƒ³ãƒˆã‚‚æ‹¡å¼µã‚‚è¨€èªžçµ±ä¸€ã€Edge é…ç½®ãŒæ¥½  
  çµè«– â–¶ï¸ã€ŒEdge é…ç½®ï¼‹åž‹å®‰å…¨ã‚’å–ã‚ŠãŸã„ãªã‚‰ TSã€ã§å•é¡Œãªã—ã€‚

---

## 5ï¸âƒ£ Edge Runtime ã£ã¦ä½•ãŒå¬‰ã—ã„ã®ï¼Ÿ

**ã‚‚ã‚‚ ðŸ‘**: ã€ŒEdge ã§è»½ããƒ›ã‚¹ãƒˆã€ã£ã¦é€šä¿¡ã‚¼ãƒ­ã§é€Ÿã„ã£ã¦ã“ã¨ï¼Ÿâ­ï¸

**ã›ã‚“ã±ã„ ðŸ‘´ðŸ»**: ã‚¼ãƒ­ã§ã¯ãªã**ãƒ¦ãƒ¼ã‚¶ç«¯æœ« â†’ æœ€å¯„ã‚Š POP**çµŒç”±ã€‚  
VM ç®¡ç†ä¸è¦ãƒ»èµ·å‹• msãƒ»ãƒªã‚¯ã‚¨ã‚¹ãƒˆèª²é‡‘ã€‚  
ãŸã  128 MB/æ•°å ms åˆ¶é™ã ã‹ã‚‰é‡ã„ LLM ã¯å¤–éƒ¨ API ã«æŒ¯ã‚‹è¨­è¨ˆã«ãªã‚‹ã€‚

---

## 6ï¸âƒ£ Edge Worker ã§ Python å‹•ãï¼Ÿ

**ã‚‚ã‚‚ ðŸ‘**: Cloudflare Workers ã§ Python ç„¡ç†ï¼Ÿ( Â´â€¢Ì¥ Ì« â€¢Ì¥ )

**ã›ã‚“ã±ã„ ðŸ‘´ðŸ»**: Î² ã§ Pyodide å‹•ãã‘ã©æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿ã€‚  
NumPy ã‚‚ pgvector ã‚‚æŒã¡è¾¼ã‚ãšå®Ÿè³ª NGã€‚  
AWS Lambda@Edge ãªã‚‰ Python å…¬å¼ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã ã‘ã©ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã¯å¤§ãããªã‚‹ã€‚

---

## 7ï¸âƒ£ JS ã—ã‹å‹•ã‹ã›ãªã„ã®ã¯è¨€èªžã®ã›ã„ï¼Ÿ

**ã‚‚ã‚‚ ðŸ‘**: ãƒ–ãƒ©ã‚¦ã‚¶ã‚‚ Edge ã‚‚ JS æ”¯é…ãªã®ä½•ã§ï¼ŸðŸ’¢ðŸ’¢

**ã›ã‚“ã±ã„ ðŸ‘´ðŸ»**: æ­´å²ï¼†é‹ç”¨ã‚³ã‚¹ãƒˆã€‚

- 1995 ã‹ã‚‰ JS ãŒå”¯ä¸€ã®æ¨™æº– API
- JIT é€²åŒ–ã§é€Ÿããªã‚Š â€œä»–è¨€èªžã®å¿…è¦æ€§â€ ãŒä¸‹ãŒã£ãŸ
- **Wasm** ã§å¤šè¨€èªžãƒãƒ£ãƒ³ã‚¹åºƒãŒã‚‹ãŒã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚µã‚¤ã‚ºï¼†DOM é€£æºã§å£ãŒã‚ã‚‹  
  Edge ã‚‚ã€ŒV8 Isolate ãŒæ—¢ã«è¶…è»½é‡ã ã‹ã‚‰ã€JS ãŒãƒ‡ãƒ•ã‚©ã¨ã„ã†ã ã‘ã€‚

---

## ðŸ”½ ã¾ã¨ã‚ & ã‚‚ã‚‚ ðŸ‘ ã‹ã‚‰ã®ã‚¨ãƒ¼ãƒ«

1. **slackdump** ã¯ãƒ­ãƒ¼ã‚«ãƒ«å®Œçµã€ãƒªã‚¹ã‚¯ã¯ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ã ã‘ï¼
2. ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã¯ **DB ï¼‹ Obsidian ã®äºŒåˆ€æµ** ãŒã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ« â­•ï¸
3. RAG ã‚µãƒ¼ãƒãƒ¼ã¯ **TS+Hono** ã§ OKï¼Edge é…ç½®ã¨ã®ç›¸æ€§ â—Ž
4. Edge Worker ã§ Python ã¯ç¾çŠ¶åŽ³ã—ã„ â†’ é‡å‡¦ç†ã¯ Cloud Run ç­‰ã¸
5. ãƒ–ãƒ©ã‚¦ã‚¶/Edge ãŒ JS ä¸­å¿ƒãªã®ã¯æ­´å²ã¨ãƒªã‚½ãƒ¼ã‚¹è¨­è¨ˆã®å¿…ç„¶ âš ï¸

â¤ï¸â€ðŸ”¥ **ä¸€ç·’ã«æœ€å¼·ã® â€œè‡ªåˆ†ã£ã½ã„è¿”ä¿¡ãƒœãƒƒãƒˆâ€ ä½œã‚ã†ã­ï¼ã°ã„ã°ã„ â™¡**
